function stringValidate(e){return!(e.includes("@")||e.includes("_")||e.includes("^")||e.includes("+")||e.includes("/")||e.includes("+")||e.includes("*")||e.includes('"'))||(swal({title:"Utilice sólo letras y números",type:"warning",confirmButtonColor:"#4fa7f3"}).then(function(){}),!1)}function getTawkTo(e){if("administrator"==e){new Date;t=document.createElement("script"),n=document.getElementsByTagName("script")[0],t.async=!0,t.src="https://embed.tawk.to/5cb4a313c1fe2560f3feedbc/default",t.charset="UTF-8",t.setAttribute("crossorigin","*"),n.parentNode.insertBefore(t,n)}var t,n}function logoff(){$(document).on("click","#logoff",function(){$(document).ready(function(){swal({title:"Usted está a punto de salir",text:"¿está seguro?",type:"warning",showCancelButton:!0,confirmButtonColor:"#4fa7f3",cancelButtonColor:"#d57171",confirmButtonText:"Sí,quiero salir!"}).then(function(){var e=sessionStorage.getItem("login_time");window.location.href="/sess/logoff?start_time="+e})})})}function onlineUsers(){$(document).ready(function(){$.ajax({url:"/info/online",dataType:"json",async:!1,success:function(e){for(var t=e[1],n="",a=0;a<t.length;a++)n=n+("<li>"+e[1][a]+"</li>");$("#online").html(e[0]),$("#onlineUsers").attr("data-content","<ul>"+n+"</ul>")}}),setInterval(function(){$.ajax({url:"/pages/online",dataType:"json",async:!1,success:function(e){for(var t=e[1],n=0;n<t.length;n++);$("#online").html(e[0])}})},6e4)})}function newUser(){$(document).ready(function(){$("#register_button").click(function(){return $.ajax({url:"/reg/usr",type:"POST",data:$("#register_form").serialize(),dataType:"json",success:function(e){e.result?swal({title:"Usuario registrado",type:"success",confirmButtonColor:"#4fa7f3"}).then(function(){document.location.reload(!0)}):swal({title:"Este correo ya se encuentra registrado",type:"warning",confirmButtonColor:"#4fa7f3"}).then(function(){})}}),!1})})}function search(){var e,t,n;for(e=document.getElementById("myInput").value.toUpperCase(),t=document.getElementById("myUL").getElementsByTagName("li"),n=0;n<t.length;n++)t[n].getElementsByTagName("a")[0].innerHTML.toUpperCase().indexOf(e)>-1?t[n].closest(".col-xl-4").style.display="":t[n].closest(".col-xl-4").style.display="none"}function searchCourseProduct(){var e,t,n;for(e=document.getElementById("myInput").value.toUpperCase(),t=document.getElementById("myUL").getElementsByTagName("li"),n=0;n<t.length;n++)t[n].getElementsByTagName("a")[0].innerHTML.toUpperCase().indexOf(e)>-1?t[n].closest(".col-lg-6").style.display="":t[n].closest(".col-lg-6").style.display="none"}function tableLeads(){$(document).ready(function(){$("#datatable").DataTable();var e=$("#datatable-buttons").DataTable({lengthChange:!1,buttons:["copy","excel","pdf"]});$("#key-table").DataTable({keys:!0}),$("#responsive-datatable").DataTable(),$("#selection-datatable").DataTable({select:{style:"multi"}}),e.buttons().container().appendTo("#datatable-buttons_wrapper .col-md-6:eq(0)")})}function newCategorie(){$(document).ready(function(){$("#register_button").click(function(){var e=$("#name").val();""==e&&swal({title:"Usted necesita poner un nombre para la nueva categoría",type:"warning",confirmButtonColor:"#4fa7f3"}).then(function(){}),stringValidate(e)&&$.ajax({url:"/reg/cat",type:"POST",data:$("#register_form").serialize(),success:function(){swal({title:"Categoría agregada",type:"success",confirmButtonColor:"#4fa7f3"}).then(function(){document.location.reload(!0)})}})})})}function editCat(e){name=document.getElementById(e).value,""==name&&swal({title:"Usted necesita poner un nombre para la nueva categoría",type:"warning",confirmButtonColor:"#4fa7f3"}).then(function(){}),stringValidate(name)&&$(document).ready(function(){swal({title:"¿Está seguro?",text:"¿Quieres editarlo?",type:"warning",showCancelButton:!0,confirmButtonColor:"#4fa7f3",cancelButtonColor:"#d57171",confirmButtonText:"Sí, puede editarlo!"}).then(function(){$.ajax({url:"/edit/cat/"+name+"/"+e,type:"POST"}),document.location.reload(!0)})})}function delCat(e){$(document).ready(function(){name=document.getElementById(e).value,swal({title:"¿Está seguro?",text:"El equipo "+name+" se eliminará",type:"warning",showCancelButton:!0,confirmButtonColor:"#4fa7f3",cancelButtonColor:"#d57171",confirmButtonText:"Sí, puede borrar!"}).then(function(){$.ajax({url:"/del/cat/"+name+"/"+e,type:"POST"}),document.location.reload(!0)})})}function searchCat(){var e,t,n;for(e=document.getElementById("myInput").value.toUpperCase(),t=document.getElementById("myUL").getElementsByTagName("li"),n=0;n<t.length;n++)t[n].getElementsByTagName("a")[0].innerHTML.toUpperCase().indexOf(e)>-1?t[n].closest(".col-xl-3").style.display="":t[n].closest(".col-xl-3").style.display="none"}function deleteCourse(){$(document).ready(function(){$(document).on("click",".exclude_course",function(){var e=$(this).prev("input").val();swal({title:"Cuidado!                ",text:"Usted está a punto de eliminar el curso, ¿está seguro?",type:"warning",showCancelButton:!0,timer:0}).then(function(){$.ajax({url:"/del/course",type:"post",data:{courseId:e}}),location.reload()})})})}function colorPicker(){$(document).ready(function(){$(".colorpicker-default").colorpicker({format:"hex"}),$(".colorpicker-rgba").colorpicker()})}function changeImages(){$(document).on("click","i.del",function(){$(this).parent().remove()}),$(function(){$(document).on("change",".uploadLogo",function(){var e=$(this),t=this.files?this.files:[];if(t.length&&window.FileReader&&/^image/.test(t[0].type)){var n=new FileReader;n.readAsDataURL(t[0]),n.onloadend=function(){e.closest(".imgUp").find(".imagePreviewLogo").css("background-image","url("+this.result+")")}}})}),$(function(){$(document).on("change",".uploadFavicon",function(){var e=$(this),t=this.files?this.files:[];if(t.length&&window.FileReader&&/^image/.test(t[0].type)){var n=new FileReader;n.readAsDataURL(t[0]),n.onloadend=function(){e.closest(".imgUp").find(".imagePreviewFavicon").css("background-image","url("+this.result+")")}}})}),$(function(){$(document).on("change",".uploadSlider01",function(){var e=$(this),t=this.files?this.files:[];if(t.length&&window.FileReader&&/^image/.test(t[0].type)){var n=new FileReader;n.readAsDataURL(t[0]),n.onloadend=function(){e.closest(".imgUp").find(".imagePreviewSlider01").css("background-image","url("+this.result+")")}}})}),$(function(){$(document).on("change",".uploadSlider02",function(){var e=$(this),t=this.files?this.files:[];if(t.length&&window.FileReader&&/^image/.test(t[0].type)){var n=new FileReader;n.readAsDataURL(t[0]),n.onloadend=function(){e.closest(".imgUp").find(".imagePreviewSlider02").css("background-image","url("+this.result+")")}}})}),$(function(){$(document).on("change",".uploadSlider03",function(){var e=$(this),t=this.files?this.files:[];if(t.length&&window.FileReader&&/^image/.test(t[0].type)){var n=new FileReader;n.readAsDataURL(t[0]),n.onloadend=function(){e.closest(".imgUp").find(".imagePreviewSlider03").css("background-image","url("+this.result+")")}}})}),$(function(){$(document).on("change",".uploadSlider04",function(){var e=$(this),t=this.files?this.files:[];if(t.length&&window.FileReader&&/^image/.test(t[0].type)){var n=new FileReader;n.readAsDataURL(t[0]),n.onloadend=function(){e.closest(".imgUp").find(".imagePreviewSlider04").css("background-image","url("+this.result+")")}}})})}function newSettings(){$(document).ready(function(){$("#send").on("click",function(){var e=new FormData($("#my_form")[0]);$.ajax({url:"/edit/settings",type:"POST",data:e,processData:!1,contentType:!1,success:function(e){swal({title:"Guardado",type:"success",confirmButtonColor:"#4fa7f3"}).then(function(){document.location.reload(!0)})}})})})}function uploadCourseImage(){$(function(){$(document).on("change",".uploadFile",function(){var e=$(this).next(".putFile"),t=($(this),new FormData);t.append("image",$(this)[0].files[0]),$.ajax({url:"/reg/course_image",type:"POST",data:t,processData:!1,contentType:!1,success:function(t){e.val(t)}});var n=$(this),a=this.files?this.files:[];if(a.length&&window.FileReader&&/^image/.test(a[0].type)){var o=new FileReader;o.readAsDataURL(a[0]),o.onloadend=function(){n.closest(".imgUp").find(".imagePreview").css("background-image","url("+this.result+")")}}})})}function maxLenght(){$("input#title").maxlength({alwaysShow:!0,warningClass:"badge badge-success",limitReachedClass:"badge badge-danger"}),$("textarea#description").maxlength({alwaysShow:!0,warningClass:"badge badge-success",limitReachedClass:"badge badge-danger"}),$("input.form-control").maxlength({alwaysShow:!0,warningClass:"badge badge-success",limitReachedClass:"badge badge-danger"})}function editProfile(){$(document).ready(function(){$(document).on("click",".avatar",function(){var e=$(this).attr("data-avatar");$("#avatarName").val(e),$("#my_modal").modal("hide"),$("#user-img").attr("src","../assets/img/avatar/"+e)}),loadFile=function(e){$("#my_modal").modal("hide");var t=document.getElementById("user-img");URL.createObjectURL(e.target.files[0]);t.src=URL.createObjectURL(e.target.files[0])},$(document).on("click","#send",function(){var e=new FormData($("#my_form")[0]);$.ajax({type:"POST",url:"/edit/profile",data:e,processData:!1,contentType:!1,success:function(e){swal({title:"Guardado",type:"success",confirmButtonColor:"#4fa7f3"}).then(function(){document.location.reload(!0)})}})})})}function editApi(){$(document).ready(function(){$(document).on("click","#send_integration",function(){$("#integration_form").serialize();clientId=$("#clientId").val(),secretId=$("#secretId").val(),$.ajax({type:"POST",url:"/edit/integration",data:{clientId:clientId,secretId:secretId},success:function(e){swal({title:"Guardado",type:"success",confirmButtonColor:"#4fa7f3"}).then(function(){document.location.reload(!0)})}})})})}function login(){$(document).ready(function(){$(document).on("click","#linkNewAccount",function(){$(this).hide(),$("#linkHacerLogin").show(),$(".login").hide(),$(".new_account").show()}),$(document).on("click","#linkHacerLogin",function(){$(this).hide(),$("#linkNewAccount").show(),$(".login").show(),$(".new_account").hide()}),$(document).on("click","#send_account",function(){var e=$("#form_account").serialize();$.ajax({url:"/reg/usr",type:"POST",dataType:"json",data:e,success:function(e){e.result?($("#form_account").each(function(){this.reset()}),$("#error").hide(),$(".login").show(),$("#success").show(),$(".new_account").hide()):$("#error").show()}})}),$(document).on("click","#send_login",function(){formData=$("#form_login").serialize(),$.ajax({url:"/login/main",data:formData,type:"POST",success:function(e){"0"==e?$("#failed").show():(loginTime=$("#time").val(),sessionStorage.setItem("login_time",loginTime),swal({title:"Inicio de sesión con éxito",type:"success",confirmButtonColor:"#4fa7f3"}).then(function(){window.location.reload()}))}})})})}