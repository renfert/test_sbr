(function(t){function e(e){for(var s,o,n=e[0],c=e[1],l=e[2],u=0,p=[];u<n.length;u++)o=n[u],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&p.push(i[o][0]),i[o]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);d&&d(e);while(p.length)p.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],s=!0,n=1;n<a.length;n++){var c=a[n];0!==i[c]&&(s=!1)}s&&(r.splice(e--,1),t=o(o.s=a[0]))}return t}var s={},i={editcourse:0},r=[];function o(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.e=function(){return Promise.resolve()},o.m=t,o.c=s,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(a,s,function(e){return t[e]}.bind(null,s));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/application/views/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],c=n.push.bind(n);n.push=e,n=n.slice();for(var l=0;l<n.length;l++)e(n[l]);var d=c;r.push([6,"chunk-vendors","chunk-common"]),a()})({"08a3":function(t,e,a){"use strict";var s=a("43f7"),i=a.n(s);i.a},"0e5e":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"wrapper"}},[a("lang"),a("top-bar"),a("left-bar"),a("div",{staticClass:"content-page"},[a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"form-wizard-wrapper"},[a("wizard-nav"),a("div",{staticClass:"form-wizard-content-wrapper"},[a("first-step-to-edit"),a("second-step"),a("third-step-to-edit")],1)],1)])])]),t._v(" "),a("update-plan")],1)},r=[],o=a("d381"),n=a("8e70"),c=a("a310"),l=a("67cd"),d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:0==t.contentShow?"hide":"main"},[s("form",{attrs:{id:"form-first-step"}},[s("div",{staticClass:"form-wizard-content show",attrs:{"data-tab-content":"info"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"card-box"},[s("div",{staticClass:"form-row"},[s("div",{staticClass:"form-group col-12 col-md-6"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.courseId,expression:"courseId"}],staticClass:"hide",attrs:{type:"text",name:"id"},domProps:{value:t.courseId},on:{input:function(e){e.target.composing||(t.courseId=e.target.value)}}}),s("label",{staticClass:"col-form-label"},[t._v(t._s(t.lang["name"])+" *")]),s("el-input",{class:t.invalidField?"invalid-field":"",attrs:{name:"title"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),s("br"),s("br"),s("label",{staticClass:"col-form-label"},[t._v(t._s(t.lang["category"]))]),s("br"),s("select",{directives:[{name:"model",rawName:"v-model",value:t.category,expression:"category"}],staticClass:"form-control",attrs:{name:"mycategory_id"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.category=e.target.multiple?a:a[0]}}},[s("option",{attrs:{value:"1"}},[t._v(t._s(t.lang["without-category"]))]),t._l(t.categories,(function(e){return s("option",{key:e.id,domProps:{value:e.id}},[t._v(" "+t._s(e.name)+" ")])}))],2),s("br"),s("br"),s("br"),s("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(e){e.preventDefault(),t.modal=!0}}},[t._v(t._s(t.lang["advanced-settings"])+" "),s("i",{staticClass:"el-icon-setting"})])],1),s("div",{staticClass:"form-group  col-xl-6 col-md-6"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"hide",attrs:{name:"description"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}}),s("label",{staticClass:"col-form-label"},[t._v(t._s(t.lang["description"]))]),s("wysiwyg",{model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1)]),s("div",{staticClass:"form-row"},[s("div",{staticClass:"form-group col-xl-6 col-md-6"},[s("label",{staticClass:"col-form-label"},[t._v(t._s(t.lang["image"]))]),""!=t.srcImg?s("upload",{attrs:{"src-img":t.srcImg,"src-name":t.srcName,"do-upload":"true","box-height":"200","return-name":"photo","input-name":"file",type:"image-course",acceptable:".png,.jpg"}}):t._e()],1),s("div",{staticClass:"form-group col-xl-6 col-md-6"},[s("label",{staticClass:"col-form-label"},[t._v(t._s(t.lang["video-preview"]))]),""!=t.srcPreview?s("upload",{attrs:{"src-img":t.srcPreview,"src-name":t.srcPreviewName,"do-upload":"true","box-height":"200","return-name":"preview","input-name":"previewFile",type:"video-preview",acceptable:".mp4,.mov"}}):t._e()],1)])])])])]),s("el-dialog",{attrs:{visible:t.modal,title:t.lang["advanced-settings"],center:"",width:"40%",top:"5vh"},on:{"update:visible":function(e){t.modal=e}}},[s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-form-label"},[t._v(t._s(t.lang["start-date"]))]),s("div",{staticClass:"input-group"},[s("el-date-picker",{attrs:{name:"release_date",type:"date",format:"yyyy/MM/dd","value-format":"yyyy-MM-dd",placeholder:"Pick a day"},model:{value:t.releaseDate,callback:function(e){t.releaseDate=e},expression:"releaseDate"}})],1)]),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-form-label"},[t._v(t._s(t.lang["end-date"]))]),s("div",{staticClass:"input-group"},[s("el-date-picker",{attrs:{name:"expiration_date",type:"date",format:"yyyy/MM/dd","value-format":"yyyy-MM-dd",placeholder:"Pick a day"},model:{value:t.expirationDate,callback:function(e){t.expirationDate=e},expression:"expirationDate"}})],1)]),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-form-label"},[t._v(t._s(t.lang["validity-time"]))]),s("div",{staticClass:"input-group"},[s("el-input-number",{attrs:{name:"validity"},model:{value:t.validity,callback:function(e){t.validity=e},expression:"validity"}})],1)]),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-form-label"},[t._v(t._s(t.lang["price"]))]),s("div",{staticClass:"input-group"},[s("money",t._b({staticClass:"text-field",attrs:{name:"price"},model:{value:t.price,callback:function(e){t.price=e},expression:"price"}},"money",t.money,!1),[t._v("12323")])],1)]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-xl-4 col-md-4"},[s("label",{attrs:{for:"exampleInputEmail1"}},[t._v(t._s(t.lang["comments"]))]),s("div",{staticClass:"input-group"},[s("toggle-button",{attrs:{name:"comments",color:"#3BB6B6"},model:{value:t.comments,callback:function(e){t.comments=e},expression:"comments"}})],1)]),s("div",{staticClass:"col-xl-4 col-md-4"},[s("label",{attrs:{for:"exampleInputEmail1"}},[t._v(t._s(t.lang["spotlight"]))]),s("div",{staticClass:"input-group"},[s("toggle-button",{attrs:{name:"spotlight",color:"#3BB6B6"},model:{value:t.spotlight,callback:function(e){t.spotlight=e},expression:"spotlight"}})],1)]),s("div",{staticClass:"col-xl-4 col-md-4"},[s("label",{attrs:{for:"exampleInputEmail1"}},[t._v(t._s(t.lang["certificate"]))]),s("div",{staticClass:"input-group"},[s("toggle-button",{attrs:{color:"#3BB6B6"},model:{value:t.certificate,callback:function(e){t.certificate=e},expression:"certificate"}})],1)])]),1==t.certificate?s("h4",{staticClass:"text-center mt-5"},[t._v("Select your template")]):t._e(),1==t.certificate?s("div",{staticClass:"row"},[s("div",{staticClass:"col-xl-4 col-md-4"},[s("p",{staticClass:"text-center"},[t._v("Classic")]),s("input",{attrs:{id:"classic",type:"radio",name:"certificate",value:"classic"}}),s("label",{attrs:{for:"classic"}},[s("img",{staticClass:"img-responsive",staticStyle:{"max-width":"100%"},attrs:{src:a("a077"),alt:""}})])]),s("div",{staticClass:"col-xl-4 col-md-4"},[s("p",{staticClass:"text-center"},[t._v("Tech")]),s("input",{attrs:{id:"tech",type:"radio",name:"certificate",value:"tech"}}),s("label",{attrs:{for:"tech"}},[s("img",{staticClass:"img-responsive",staticStyle:{"max-width":"100%"},attrs:{src:a("32a7"),alt:""}})])]),s("div",{staticClass:"col-xl-4 col-md-4"},[s("p",{staticClass:"text-center"},[t._v("Artistic")]),s("input",{attrs:{id:"artistic",type:"radio",name:"certificate",value:"artistic"}}),s("label",{attrs:{for:"artistic"}},[s("img",{staticClass:"img-responsive",staticStyle:{"max-width":"100%"},attrs:{src:a("aa6c"),alt:""}})])])]):t._e(),s("el-button",{staticClass:"mt-3",attrs:{type:"primary",size:"medium"},on:{click:function(e){e.preventDefault(),t.modal=!1}}},[t._v(t._s(t.lang["save-button"]))])],1)],1),s("helper-progress")],1)},u=[],p=(a("a4d3"),a("e01a"),a("b0c0"),a("bc3a")),m=a.n(p),v=a("f206"),f=a.n(v),g=a("a7fe"),h=a.n(g),b=a("e808"),C=a("1f3b"),y=a("c3b3"),_=a.n(y),w=a("3140"),x=a("3a60"),M=a.n(x),I=a("716b"),k=a("a82d"),P=a("8ed8"),D=a("9808");s["default"].use(_.a,{hideModules:{image:!0,code:!0,table:!0}}),s["default"].use(M.a),s["default"].use(f.a),s["default"].use(h.a,m.a);var S={mixins:[P["a"],D["a"]],components:{Upload:w["a"],Money:I["Money"],HelperProgress:k["a"]},data:function(){return{modal:!1,name:"",price:"",lang:{},invalidField:!1,categories:{},certificates:{},description:"",comments:!1,spotlight:!1,certificate:!1,certificateValue:"",multiple:!1,releaseDate:"",expirationDate:"",validity:"",category:"",contentShow:!0,courseMode:"edit",courseId:"",loading:!1,srcImg:"",srcName:"",srcPreview:"",srcPreviewName:"",money:{decimal:",",thousands:".",prefix:" ",suffix:" ",precision:2,masked:!1}}},created:function(){this.courseId=sessionStorage.getItem("sbr_course_id"),this.getCategories(),this.getCourse()},mounted:function(){C["b"].$emit("new-course",this.courseId),b["b"].$on("lang",function(t){this.lang=t}.bind(this)),C["b"].$on("access-first-step",function(){this.contentShow=!0}.bind(this)),C["b"].$on("access-second-step",function(){""==this.name?(this.invalidField=!0,this.requiredInputNameMessage(),C["b"].$emit("response-access-second-step",!1)):(this.editCourse(),C["b"].$emit("response-access-second-step",!0))}.bind(this)),C["b"].$on("access-third-step",function(){""==this.name?(this.invalidField=!0,this.requiredInputNameMessage(),C["b"].$emit("response-access-third-step",!1)):("create"==this.courseMode?this.createCourse():this.editCourse(),C["b"].$emit("response-access-third-step",!0))}.bind(this))},methods:{getCourse:function(){var t=this,e=new FormData;e.set("courseId",this.courseId);var a=this.getUrlToMakeRequest("course","get");m.a.post(a,e).then((function(e){t.name=e.data["title"],t.category=e.data["mycategory_id"],t.description=e.data["description"],t.srcName=e.data["photo"],t.srcImg=t.getCurrentDomainName()+"assets/uploads/course/"+e.data["photo"],t.srcPreviewName=e.data["preview"],t.srcPreview=t.getCurrentDomainName()+"assets/uploads/preview/"+e.data["preview"],null==e.data["price"]?t.price="":t.price=e.data["price"],null==e.data["release_date"]||""==e.data["release_date"]||"0000-00-00"==e.data["release_date"]?t.releaseDate="":t.releaseDate=e.data["release_date"],null==e.data["expiration_date"]||""==e.data["expiration_date"]||"0000-00-00"==e.data["expiration_date"]?t.expirationDate="":t.expirationDate=e.data["expiration_date"],null==e.data["spotlight"]?t.spotlight=!1:t.spotlight=!0,null==e.data["comments"]?t.comments=!1:t.comments=!0,t.validity=e.data["validity"],null==e.data["certificate"]?t.certificate=!1:t.certificate=!0,t.certificateValue=e.data["certificate"],t.modal=!0,t.fixAdvancedModal()}),function(){this.errorMessage()}.bind(this))},getCategories:function(){var t=this,e=this.getUrlToMakeRequest("category","listing");m.a.get(e).then((function(e){t.categories=e.data}),(function(){this.errorMessage()}))},fixAdvancedModal:function(){this.loading=!0,setTimeout(function(){this.modal=!1,this.loading=!1}.bind(this),500)},editCourse:function(){var t=this;this.loading=!0;var e=document.getElementById("form-first-step"),a=new FormData(e),s=this.getUrlToMakeRequest("course","edit");m.a.post(s,a).then((function(){t.loading=!1,t.actionsToBePerformedAfterEdit()}),function(){this.errorMessage()}.bind(this))},requiredInputNameMessage:function(){this.$notify({title:this.lang["error"],message:this.lang["required-name"],type:"error",duration:3500})},actionsToBePerformedAfterEdit:function(){C["b"].$emit("new-course",this.courseId),this.contentShow=!1}}},T=S,N=(a("e65d"),a("2877")),$=Object(N["a"])(T,d,u,!1,null,"da36511c",null),O=$.exports,U=a("eb13"),j=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:0==t.contentShow?"hide":"main"},[s("div",{staticClass:"row"},[s("div",{staticClass:"img-container"},[s("div",{staticClass:"text-container"},[s("h1",[t._v(t._s(t.courseName))])]),s("img",{attrs:{src:a("aafd")}})])]),s("div",{staticClass:"row mt-3"},[s("div",{staticClass:"col-12 col-md-3"},[s("a",{attrs:{href:t.viewCourseUrl}},[s("div",{staticClass:"card-box"},[s("h5",[t._v(t._s(t.lang["view-course"]))]),s("img",{attrs:{src:a("eddc"),alt:""}})])])]),s("div",{staticClass:"col-12 col-md-3"},[s("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){e.preventDefault(),t.modal=!0}}},[s("div",{staticClass:"card-box"},[s("h5",[t._v(t._s(t.lang["join-persons"]))]),s("img",{attrs:{src:a("151a"),alt:""}})])])]),s("div",{staticClass:"col-12 col-md-3"},[s("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){return e.preventDefault(),t.reloadPage()}}},[s("div",{staticClass:"card-box"},[s("h5",[t._v(t._s(t.lang["create-new-course"]))]),s("img",{attrs:{src:a("d24c"),alt:""}})])])]),s("div",{staticClass:"col-12 col-md-3"},[s("a",{attrs:{href:"#"}},[s("div",{staticClass:"card-box"},[s("h5",[t._v(t._s(t.lang["share"]))]),s("img",{attrs:{src:a("aad6"),alt:""}})])])])]),s("el-dialog",{attrs:{visible:t.modal,title:t.lang["join-persons"],center:"",top:"5vh"},on:{"update:visible":function(e){t.modal=e}}},[null!=t.usersList?s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[[s("el-transfer",{attrs:{filterable:"",titles:["Persons","Course"],data:t.usersList},model:{value:t.users,callback:function(e){t.users=e},expression:"users"}})],s("br"),s("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(e){return t.enrollUsers()}}},[t._v(" "+t._s(t.lang["save-button"])+" ")])],2):s("div",{staticClass:"card-box box-no-results"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-1"}),s("div",{staticClass:"col-5"},[s("div",{staticClass:"text-no-results"},[s("h5",[t._v(t._s(t.lang["all-students-already-added"]))])])]),s("div",{staticClass:"col-6"},[s("img",{staticClass:"image-no-results",attrs:{src:a("05fd"),alt:""}})])])])])],1)},B=[];s["default"].use(h.a,m.a);var E={mixins:[P["a"],D["a"]],data:function(){return{contentShow:!1,lang:[],modal:!1,mainModal:!1,courseName:"",usersList:[],users:[],courseId:"",viewCourseUrl:"",loading:!1}},created:function(){this.courseId=sessionStorage.getItem("sbr_course_id"),this.getUsersOutsideTheCourse(this.courseId)},mounted:function(){C["b"].$on("new-course",function(t){this.courseId=t,this.viewCourseUrl=this.getCurrentDomainName()+"pages/viewcourse/"+t}.bind(this)),b["b"].$on("lang",function(t){this.lang=t}.bind(this)),C["b"].$on("access-first-step",function(){this.contentShow=!1}.bind(this)),C["b"].$on("access-second-step",function(){this.contentShow=!1}.bind(this)),C["b"].$on("response-access-third-step",function(t){1==t&&(this.contentShow=!0,this.mainModal=!0,this.getCourse())}.bind(this))},methods:{getUsersOutsideTheCourse:function(t){var e=this,a=new FormData;a.set("courseId",t);var s=this.getUrlToMakeRequest("course","getPersonsOutsideTheCourse");m.a.post(s,a).then((function(t){e.usersList=t.data}),function(){this.errorMessage()}.bind(this))},enrollUsers:function(){var t=this;this.loading=!0;var e=new FormData;e.set("courseId",this.courseId),e.set("users",this.users);var a=this.getUrlToMakeRequest("course","enrollUsersIntoCourse");m.a.post(a,e).then((function(){t.loading=!1,t.modal=!1,t.getUsersOutsideTheCourse(t.courseId),t.users=[],t.successMessage()}),function(){this.errorMessage()}.bind(this))},getCourse:function(){var t=this,e=new FormData;e.set("courseId",this.courseId);var a=this.getUrlToMakeRequest("course","get");m.a.post(a,e).then((function(e){t.courseName=e.data["title"],t.courseImage=e.data["photo"]}),function(){this.errorMessage()}.bind(this))}}},q=E,F=(a("fc21"),Object(N["a"])(q,j,B,!1,null,"1c543bbe",null)),z=F.exports,R=a("342d"),A=a.n(R),L=a("a584"),J=a("1ad2"),V=a.n(J);new s["default"];s["default"].use(h.a,m.a),s["default"].use(A.a);var H={mixins:[P["a"],D["a"]],data:function(){return{favicon:""}},created:function(){this.getIntegrations()},methods:{getIntegrations:function(){var t=this.getUrlToMakeRequest("integrations","getIntegrations");m.a.get(t).then((function(t){var e=t.data["ga_id"];s["default"].use(L["a"],{config:{id:e}});var a=t.data["gtm_id"];s["default"].use(V.a,{id:a})}),function(){this.errorMessage()}.bind(this))}},head:{title:{inner:"Edit course"},meta:[{name:"charset",content:"utf-8"},{name:"viewport",content:"width=device-width, initial-scale=1.0"},{name:"author",content:"Eadtools"},{property:"og:title",content:"Content Title"},{p:"og:image",c:"teste"}],link:[{rel:"icon",href:a("ecd0"),sizes:"16x16",type:"image/png"}]},components:{TopBar:o["a"],LeftBar:n["a"],UpdatePlan:c["a"],Lang:b["a"],WizardNav:l["a"],FirstStepToEdit:O,SecondStep:U["a"],ThirdStepToEdit:z}},W=H,G=(a("08a3"),Object(N["a"])(W,i,r,!1,null,null,null)),K=G.exports;a("df25"),a("0746"),a("6418"),a("4436"),a("3c76"),a("a710");new s["default"]({render:function(t){return t(K)}}).$mount("#app")},"43f7":function(t,e,a){},6:function(t,e,a){t.exports=a("0e5e")},9663:function(t,e,a){},ba4f:function(t,e,a){},e65d:function(t,e,a){"use strict";var s=a("9663"),i=a.n(s);i.a},fc21:function(t,e,a){"use strict";var s=a("ba4f"),i=a.n(s);i.a}});
//# sourceMappingURL=editcourse.e3848445.js.map