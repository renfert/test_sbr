(function(e){function t(t){for(var s,i,o=t[0],l=t[1],u=t[2],d=0,p=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&p.push(n[i][0]),n[i]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);c&&c(t);while(p.length)p.shift()();return r.push.apply(r,u||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],s=!0,o=1;o<a.length;o++){var l=a[o];0!==n[l]&&(s=!1)}s&&(r.splice(t--,1),e=i(i.s=a[0]))}return e}var s={},n={users:0},r=[];function i(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.e=function(){return Promise.resolve()},i.m=e,i.c=s,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(a,s,function(t){return e[t]}.bind(null,s));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/application/views/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var c=l;r.push([9,"chunk-vendors","chunk-common"]),a()})({"0412":function(e,t,a){},"3ce9":function(e,t,a){"use strict";var s=a("0412"),n=a.n(s);n.a},"3e88":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"wrapper"}},[a("lang"),a("top-bar"),a("left-bar"),a("div",{staticClass:"content-page"},[a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row gap-5"},[a("user-create")],1),a("div",{staticClass:"row"},[a("user-list")],1)])])]),e._v(" "),a("Loader")],1)},r=[],i=a("d381"),o=a("8e70"),l=a("e808"),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-12"},[a("div",{staticClass:"card-box"},[a("div",{staticClass:"float-right"},["bussiness"==e.plan||"trial"==e.plan?a("el-button",{staticClass:"btn-sabiorealm",attrs:{type:"primary",size:"medium"},on:{click:function(t){t.preventDefault(),e.modal=!0}}},[e._v(e._s(e.lang["massive-import"]))]):a("el-button",{staticClass:"btn-eadtools",attrs:{type:"primary",size:"medium"},on:{click:function(t){return t.preventDefault(),e.upgradePlan()}}},[e._v(e._s(e.lang["massive-import"]))])],1),a("h4",[e._v(e._s(e.lang["create-user"]))]),a("br"),a("form",{attrs:{id:"form-user"},on:{submit:function(t){return t.preventDefault(),e.createUser(t)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-4 col-md-4"},[a("div",{staticClass:"form-group"},[a("el-input",{attrs:{required:"",name:"name",placeholder:e.lang["name"]},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),a("div",{staticClass:"form-group"},[a("el-input",{attrs:{required:"",type:"password",name:"password",placeholder:e.lang["password"]},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),a("div",{staticClass:"form-group"},[a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingButton,expression:"loadingButton"}],staticClass:"btn-sabiorealm",attrs:{"native-type":"submit",type:"primary",size:"medium"}},[e._v(" "+e._s(e.lang["save-button"])+" ")])],1)]),a("div",{staticClass:"col-xl-4 col-md-4"},[a("div",{staticClass:"form-group"},[a("el-input",{attrs:{required:"",type:"email",name:"email",placeholder:e.lang["email"]},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),a("div",{staticClass:"form-group"},[[a("el-select",{attrs:{required:"",name:"role",placeholder:e.lang["select-role"]},model:{value:e.role,callback:function(t){e.role=t},expression:"role"}},[a("el-option",{attrs:{value:"2",label:e.lang["instructor"]}},[e._v(" "+e._s(e.lang["instructor"])+" ")]),a("el-option",{attrs:{value:"3",label:e.lang["student"]}},[e._v(" "+e._s(e.lang["student"])+" ")])],1)]],2)])])]),a("div",[a("el-dialog",{attrs:{visible:e.modal,title:e.lang["massive-import"],center:"",width:"40%",top:"5vh"},on:{"update:visible":function(t){e.modal=t}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-12 col-md-12 left"},[a("a",{staticClass:"btn-ead-md btn-sabiorealm-secondary",attrs:{download:"",href:"https://cdn.eadtools.com/files/import_user.xlsx"}},[e._v(e._s(e.lang["download-template"]))])])]),a("br"),a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-12 col-md-12 center"},[a("form",{attrs:{id:"form-massive"},on:{submit:function(t){return t.preventDefault(),e.massivelyCreateUsers(t)}}},[a("upload",{attrs:{"input-name":"file",acceptable:".xlsx","box-height":"200"}}),a("br"),a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingButton,expression:"loadingButton"}],staticClass:"btn-sabiorealm",attrs:{"native-type":"submit",type:"primary",size:"medium"}},[e._v(" "+e._s(e.lang["save-button"])+" ")])],1)])])])],1)]),a("upgrade-plan")],1)},c=[],d=(a("b0c0"),a("bc3a")),p=a.n(d),f=a("a7fe"),m=a.n(f),v=a("8b6d"),g=a("21fb"),b=a("3140"),h=a("5c96"),y=a.n(h),w=a("3a60"),C=a.n(w),x=(a("0fae"),a("b2d6")),_=a.n(x),k=a("4897"),U=a.n(k),M=a("8ed8"),T=a("9808");U.a.use(_.a),s["default"].use(y.a),s["default"].use(C.a),s["default"].use(m.a,p.a);var B={mixins:[M["a"],T["a"]],data:function(){return{modal:!1,url:"",target:"",title:"",name:"",email:"",role:"",password:"",lang:{},plan:"",loadingButton:!1}},components:{Upload:b["a"],UpgradePlan:g["a"]},mounted:function(){l["b"].$on("lang",function(e){this.lang=e}.bind(this))},created:function(){this.getCompanyInformation()},methods:{upgradePlan:function(){g["b"].$emit("upgrade-plan")},getCompanyInformation:function(){var e=this.getUrlToMakeRequest("company","getCompanyInformation");p.a.get(e).then(function(e){this.plan=e.data["plan"]}.bind(this))},createUser:function(){var e=this;this.loadingButton=!0;var t=document.getElementById("form-user"),a=new FormData(t),s=this.getUrlToMakeRequest("user","create");p.a.post(s,a).then((function(t){"upgrade-plan"==t.data?g["b"].$emit("upgrade-plan"):0==t.data?e.userAlreadyExistsMessage():(e.successMessage(),e.actionsToBePerformedAfterRegistration()),e.loadingButton=!1}),function(){this.errorMessage()}.bind(this))},massivelyCreateUsers:function(){var e=this;this.modal=!1;var t=document.getElementById("form-massive"),a=new FormData(t),s=this.getUrlToMakeRequest("user","massivelyCreateUsers");p.a.post(s,a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(){e.successMessage(),v["b"].$emit("new-user"),b["b"].$emit("clear")}),function(){this.errorMessage()}.bind(this))},userAlreadyExistsMessage:function(){this.$notify({title:this.lang["error"],message:this.lang["user-already-exists"],type:"warning",duration:3500})},actionsToBePerformedAfterRegistration:function(){v["b"].$emit("new-user"),this.name="",this.email="",this.password=""}}},O=B,P=(a("fe8a"),a("2877")),$=Object(P["a"])(O,u,c,!1,null,"9cc18432",null),S=$.exports,j=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-12"},[null!=e.userList?s("div",{staticClass:"card-box table-responsive"},[1==e.loadingContent?s("facebook-loader",{attrs:{speed:2,width:"700",primaryColor:"#f0f0f0",secondaryColor:"#d9d9d9"}}):s("div",[s("div",[s("h4",[s("b",[e._v(e._s(e.lang["list-user"]))])]),s("div",{staticStyle:{"margin-bottom":"10px"}},[s("el-row",[s("el-col",{attrs:{span:6}},[s("el-input",{attrs:{placeholder:"Search"},model:{value:e.filters[0].value,callback:function(t){e.$set(e.filters[0],"value",t)},expression:"filters[0].value"}})],1),null!=e.userList?s("el-col",{attrs:{span:6}},[s("export-excel",{attrs:{data:e.userList,name:"leads.xls"}},[s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.lang["export"],placement:"top"}},[s("el-button",{staticClass:"btn-export",attrs:{type:"primary",icon:"el-icon-download",circle:""}})],1)],1)],1):e._e()],1)],1),s("data-tables",{attrs:{"pagination-props":{background:!0,pageSizes:[5]},data:e.userList,filters:e.filters}},[e._l(e.titles,(function(e){return s("el-table-column",{key:e.label,attrs:{sortable:"custom",prop:e.prop,label:e.label}})})),s("el-table-column",{attrs:{label:"Actions",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{staticClass:"btn-sabiorealm",attrs:{type:"primary",size:"medium",icon:"el-icon-user",circle:""},on:{click:function(a){return e.viewUser(t.row.id)}}}),s("el-popconfirm",{attrs:{confirmButtonText:"Ok",cancelButtonText:"No, Thanks",placement:"right",title:e.lang["question-delete-user"]+t.row.name+"?"},on:{onConfirm:function(a){return e.deleteUser(t.row.id)}}},[s("el-button",{staticClass:"btn-sabiorealm-danger",attrs:{slot:"reference",type:"danger",size:"medium",icon:"el-icon-delete",circle:""},slot:"reference"})],1)]}}],null,!1,2162090942)})],2)],1)])],1):s("div",{staticClass:"row mb-5 mt-5"},[s("div",{staticClass:"col-12 text-center"},[s("img",{staticClass:"no-results-img",attrs:{src:a("05fd"),alt:"No persons"}}),s("h4",{staticClass:"no-results-text"},[e._v(e._s(e.lang["no-results-user-title"]))])])])])},L=[],q=a("e391"),D=a("bf15"),R=a("e330");s["default"].use(D["a"]),U.a.use(_.a),s["default"].use(q["DataTables"]),s["default"].use(q["DataTablesServer"]),s["default"].use(y.a),s["default"].use(m.a,p.a);var z={components:{FacebookLoader:R["b"]},mixins:[M["a"],T["a"]],data:function(){return{titles:[{prop:"name",label:"Name"},{prop:"role",label:"Role"}],userList:[],filters:[{prop:"name",value:""}],tableProps:{defaultSort:{prop:"name",order:"descending"}},lang:{},loadingContent:!1}},created:function(){this.getUsers(),v["b"].$on("new-user",function(){this.getUsers()}.bind(this))},mounted:function(){l["b"].$on("lang",function(e){this.lang=e}.bind(this))},methods:{deleteUser:function(e){var t=this,a=new FormData;a.set("id",e);var s=this.getUrlToMakeRequest("user","delete");p.a.post(s,a).then((function(){t.successMessage(),t.getUsers()}),function(){this.errorMessage()}.bind(this))},viewUser:function(e){sessionStorage.setItem("sbr_user_id",""+e),window.location.href="pages/user"},getUsers:function(){var e=this;this.loadingContent=!0;var t=this.getUrlToMakeRequest("user","listing");p.a.get(t).then((function(t){e.userList=t.data,setTimeout(function(){this.loadingContent=!1}.bind(e),1e3)}),function(){this.errorMessage()}.bind(this))}}},E=z,I=(a("3ce9"),Object(P["a"])(E,j,L,!1,null,"a75d6620",null)),A=I.exports,F=a("342d"),N=a.n(F),J=a("6ed5"),G=a("9dee"),H=a("c62d");new s["default"];s["default"].use(m.a,p.a),s["default"].use(N.a);var K={mixins:[M["a"],T["a"],G["a"],J["a"]],components:{TopBar:i["a"],LeftBar:o["a"],UserCreate:S,UserList:A,Lang:l["a"],Loader:H["a"]},created:function(){this.loadIntegrations(),this.createFavicon()},head:{title:{inner:"Users"},meta:[{name:"charset",content:"utf-8"},{name:"viewport",content:"width=device-width, initial-scale=1.0"},{name:"author",content:"Sabiorealm"}]}},Q=K,V=Object(P["a"])(Q,n,r,!1,null,null,null),W=V.exports;a("df25"),a("0746"),a("6418"),a("3c76");new s["default"]({render:function(e){return e(W)}}).$mount("#app")},9:function(e,t,a){e.exports=a("3e88")},fe8a:function(e,t,a){"use strict";var s=a("ff18"),n=a.n(s);n.a},ff18:function(e,t,a){}});
//# sourceMappingURL=users.204df06e.js.map