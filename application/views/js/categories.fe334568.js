(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["categories"],{"000b":function(e,t,a){e.exports=a.p+"img/not_found.766f7e74.png"},"342d":function(e,t,a){(function(){"use strict";var t={complement:window.document.title,separator:"|"},a={},r=[],n=[],i=!1,o={shorthand:{ch:"charset",tg:"target",n:"name",he:"http-equiv",ip:"itemprop",c:"content",p:"property",sc:"scheme",r:"rel",h:"href",sz:"sizes",t:"type",s:"src",a:"async",d:"defer",i:"inner"},getPlace:function(e){return window.document.getElementsByTagName(e)[0]},undoTitle:function(e){e.before&&(window.document.title=e.before)},undo:function(){r.length&&(r.forEach((function(e){e.parentElement.removeChild(e)})),r=[])},prepareElement:function(e,t){var a=this;return Object.keys(e).forEach((function(r){var n=a.shorthand[r]||r;n.match(/(body|undo|replace)/g)||("inner"!==n?t.setAttribute(n,e[r]):t.textContent=e[r])})),t},title:function(e){if(e){a.before=t.complement;var r=e.inner+" "+(e.separator||t.separator)+" "+(e.complement||t.complement);window.document.title=r.trim()}},update:function(){r.length&&(r.forEach((function(e,t){if(n[t]&&!n[t].isEqualNode(e))return e.parentElement.replaceChild(n[t],r[t]),void r.splice(t,1,n[t])})),n=[])},add:function(e,t,a){a.appendChild(t),(void 0===e.undo||e.undo)&&r.push(t)},handle:function(e,t,a,r){var i=this;e&&e.forEach((function(e){var o=e.body?i.getPlace("body"):i.getPlace(a),s=window.document.getElementById(e.id);s||(s=window.document.createElement(t),r=!1),s.hasAttribute("id")?i.prepareElement(e,s):(s=i.prepareElement(e,s),r?n.push(s):i.add(e,s,o))}))}};function s(e,r){function n(e){var t=this,a="function"===typeof t.$options.head?t.$options.head.bind(t)():t.$options.head;a&&(Object.keys(a).forEach((function(r){var n=a[r];if(n){var i="function"===typeof n?a[r].bind(t)():a[r];"title"!==r?o.handle(i,r,"head",e):o[r](i)}})),t.$emit("okHead"))}function s(){this.$options.head&&(o.undoTitle(a),o.undo())}i||(i=!0,r&&e.util.extend(t,r),e.version.match(/[1].(.)+/g)&&e.mixin({ready:function(){n.call(this)},destroyed:function(){s.call(this)},events:{updateHead:function(){n.call(this,!0),o.update()}}}),e.version.match(/[2].(.)+/g)&&e.mixin({created:function(){var e=this;e.$on("updateHead",(function(){n.call(this,!0),o.update()}))},mounted:function(){n.call(this)},beforeDestroy:function(){s.call(this)}}))}s.version="2.2.0","undefined"!==typeof Vue&&Vue.use(s),e.exports=s})()},b9d9:function(e,t,a){"use strict";a.r(t),a.d(t,"eventBus",(function(){return k}));var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content-page"},[a("div",[a("category-create")],1),a("div",[a("category-list")],1)])},n=[],i=a("2b0e"),o=a("342d"),s=a.n(o),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"card-box table-responsive"},[a("h4",[e._v(e._s(e.lang["create-category"]))]),a("el-form",{attrs:{id:"form-category",inline:!0}},[a("el-form-item",[a("el-input",{attrs:{required:"",name:"name",placeholder:e.lang["name"]},model:{value:e.categoryName,callback:function(t){e.categoryName=t},expression:"categoryName"}})],1),a("el-form-item",[a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"sbr-primary",attrs:{"native-type":"submit",type:"primary"},on:{click:function(t){return t.preventDefault(),e.createCategory()}}},[e._v(e._s(e.lang["save-button"]))])],1)],1)],1)},l=[],u=a("5530"),d=a("2f62"),p={data:function(){return{categoryName:"",loading:!1}},computed:Object(u["a"])({},Object(d["c"])(["lang"])),methods:{createCategory:function(){var e=this;this.loading=!0;var t=document.getElementById("form-category"),a=new FormData(t),r=this.$getUrlToMakeRequest("category","create");this.$request.post(r,a).then((function(a){e.loading=!1,!1===a.data?e.categoryAlreadyExistsMessage():(e.$successMessage(),t.reset(),k.$emit("new-category"))}),(function(){e.$errorMessage()}))},categoryAlreadyExistsMessage:function(){this.$notify({title:this.lang.error,message:this.lang["category-already-exists"],type:"warning",duration:3500})}}},f=p,g=a("2877"),m=Object(g["a"])(f,c,l,!1,null,null,null),h=m.exports,y=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[0==e.content?r("div",{staticClass:"card-box"},[r("facebook-loader",{attrs:{speed:2,width:"700",height:"200",primaryColor:"#f0f0f0",secondaryColor:"#d9d9d9"}})],1):r("div",[null!=e.categoryList?r("div",{staticClass:"card-box table-responsive"},[r("h4",[e._v(e._s(e.lang["list-category"]))]),r("div",{staticStyle:{"margin-bottom":"10px"}},[r("el-row",[r("el-col",{attrs:{xs:24,lg:6}},[r("el-input",{attrs:{placeholder:"Search"},model:{value:e.filters[0].value,callback:function(t){e.$set(e.filters[0],"value",t)},expression:"filters[0].value"}})],1)],1)],1),r("data-tables",{attrs:{"pagination-props":{background:!0,pageSizes:[5]},data:e.categoryList,filters:e.filters}},[e._l(e.titles,(function(e){return r("el-table-column",{key:e.label,attrs:{sortable:"custom",prop:e.prop,label:e.label}})})),r("el-table-column",{attrs:{label:"Actions",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{staticClass:"sbr-primary",attrs:{size:"small",icon:"el-icon-edit",circle:""},on:{click:function(a){return e.openModalToEditCategory(t.row.id,t.row.name)}}}),r("el-popconfirm",{attrs:{confirmButtonText:"Ok",cancelButtonText:"No, Thanks",placement:"right",title:e.lang["question-delete-category"]+t.row.name+"?"},on:{onConfirm:function(a){return e.deleteCategory(t.row.id)}}},[r("el-button",{staticClass:"sbr-danger ml-1",attrs:{slot:"reference",size:"small",icon:"el-icon-delete",circle:""},slot:"reference"})],1)]}}],null,!1,3423353159)})],2)],1):r("div",{staticClass:"text-center mt-5"},[r("h4",[e._v(e._s(e.lang["no-categories-found"]))]),r("img",{staticClass:"image-no-results",attrs:{src:a("000b")}})])]),r("div",[r("el-dialog",{attrs:{visible:e.modal,title:e.categoryName,center:"",width:"40%",top:"5vh"},on:{"update:visible":function(t){e.modal=t}}},[r("div",{staticClass:"form-group"},[r("label",[e._v(e._s(e.lang["new-name"]))]),r("el-input",{attrs:{name:"name"},model:{value:e.newCategoryName,callback:function(t){e.newCategoryName=t},expression:"newCategoryName"}})],1),r("div",{staticClass:"form-group"},[r("el-button",{staticClass:"sbr-primary",on:{click:function(t){return t.preventDefault(),e.editCategory(e.categoryId)}}},[e._v(e._s(e.lang["save-button"]))])],1)])],1)])},v=[],b=a("e330"),w=a("e391");i["default"].use(w["DataTables"]),i["default"].use(w["DataTablesServer"]);var x={components:{FacebookLoader:b["b"]},data:function(){return{titles:[{prop:"name",label:"Name"}],filters:[{prop:"name",value:""}],tableProps:{defaultSort:{prop:"name",order:"descending"}},categoryList:null,categoryId:"",categoryName:"",newCategoryName:"",content:!1,modal:!1}},created:function(){var e=this;this.getCategories(),k.$on("new-category",(function(){e.getCategories()}))},computed:Object(u["a"])({},Object(d["c"])(["lang"])),methods:{openModalToEditCategory:function(e,t){this.categoryName=t,this.categoryId=e,this.modal=!0},editCategory:function(e){var t=this,a=new FormData,r=this.$getUrlToMakeRequest("category","edit");a.set("name",this.newCategoryName),a.set("id",e),this.$request.post(r,a).then((function(e){!1===e.data?t.categoryAlreadyExistsMessage():(t.$successMessage(),t.getCategories(),t.newCategoryName="",t.modal=!1)}),(function(){t.$errorMessage()}))},deleteCategory:function(e){var t=this,a=this.$getUrlToMakeRequest("category","delete"),r=new FormData;r.set("id",e),this.$request.post(a,r).then((function(){t.$successMessage(),t.getCategories()}),(function(){t.$errorMessage()}))},getCategories:function(){var e=this;this.content=!1;var t=this.$getUrlToMakeRequest("category","listing");this.$request.get(t).then((function(t){e.categoryList=t.data,e.content=!0}),(function(){e.$errorMessage()}))},categoryAlreadyExistsMessage:function(){this.$notify({title:this.lang.error,message:this.lang["category-already-exists"],type:"warning",duration:3500})}}},C=x,$=Object(g["a"])(C,y,v,!1,null,null,null),N=$.exports,k=new i["default"];i["default"].use(s.a);var E={components:{CategoryCreate:h,CategoryList:N},created:function(){this.$blockStudentAccess()},head:{title:{inner:"Categories"},meta:[{name:"charset",content:"utf-8"},{name:"viewport",content:"width=device-width, initial-scale=1.0"},{name:"author",content:"Sabiorealm"}]}},_=E,M=Object(g["a"])(_,r,n,!1,null,null,null);t["default"]=M.exports},e330:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return c}));var r=a("92fa"),n=a.n(r),i=function(){return Math.random().toString(36).substring(2)},o={name:"ContentLoader",functional:!0,props:{width:{type:[Number,String],default:400},height:{type:[Number,String],default:130},speed:{type:Number,default:2},preserveAspectRatio:{type:String,default:"xMidYMid meet"},baseUrl:{type:String,default:""},primaryColor:{type:String,default:"#f9f9f9"},secondaryColor:{type:String,default:"#ecebeb"},primaryOpacity:{type:Number,default:1},secondaryOpacity:{type:Number,default:1},uniqueKey:{type:String},animate:{type:Boolean,default:!0}},render:function(e,t){var a=t.props,r=t.data,o=t.children,s=a.uniqueKey?a.uniqueKey+"-idClip":i(),c=a.uniqueKey?a.uniqueKey+"-idGradient":i();return e("svg",n()([r,{attrs:{viewBox:"0 0 "+a.width+" "+a.height,version:"1.1",preserveAspectRatio:a.preserveAspectRatio}}]),[e("rect",{style:{fill:"url("+a.baseUrl+"#"+c+")"},attrs:{"clip-path":"url("+a.baseUrl+"#"+s+")",x:"0",y:"0",width:a.width,height:a.height}}),e("defs",[e("clipPath",{attrs:{id:s}},[o||e("rect",{attrs:{x:"0",y:"0",rx:"5",ry:"5",width:a.width,height:a.height}})]),e("linearGradient",{attrs:{id:c}},[e("stop",{attrs:{offset:"0%","stop-color":a.primaryColor,"stop-opacity":a.primaryOpacity}},[a.animate?e("animate",{attrs:{attributeName:"offset",values:"-2; 1",dur:a.speed+"s",repeatCount:"indefinite"}}):null]),e("stop",{attrs:{offset:"50%","stop-color":a.secondaryColor,"stop-opacity":a.secondaryOpacity}},[a.animate?e("animate",{attrs:{attributeName:"offset",values:"-1.5; 1.5",dur:a.speed+"s",repeatCount:"indefinite"}}):null]),e("stop",{attrs:{offset:"100%","stop-color":a.primaryColor,"stop-opacity":a.primaryOpacity}},[a.animate?e("animate",{attrs:{attributeName:"offset",values:"-1; 2",dur:a.speed+"s",repeatCount:"indefinite"}}):null])])])])}},s={name:"BulletListLoader",functional:!0,render:function(e,t){var a=t.data;return e(o,a,[e("circle",{attrs:{cx:"10",cy:"20",r:"8"}}),e("rect",{attrs:{x:"25",y:"15",rx:"5",ry:"5",width:"220",height:"10"}}),e("circle",{attrs:{cx:"10",cy:"50",r:"8"}}),e("rect",{attrs:{x:"25",y:"45",rx:"5",ry:"5",width:"220",height:"10"}}),e("circle",{attrs:{cx:"10",cy:"80",r:"8"}}),e("rect",{attrs:{x:"25",y:"75",rx:"5",ry:"5",width:"220",height:"10"}}),e("circle",{attrs:{cx:"10",cy:"110",r:"8"}}),e("rect",{attrs:{x:"25",y:"105",rx:"5",ry:"5",width:"220",height:"10"}})])}},c={name:"FacebookLoader",functional:!0,render:function(e,t){var a=t.data;return e(o,a,[e("rect",{attrs:{x:"70",y:"15",rx:"4",ry:"4",width:"117",height:"6.4"}}),e("rect",{attrs:{x:"70",y:"35",rx:"3",ry:"3",width:"85",height:"6.4"}}),e("rect",{attrs:{x:"0",y:"80",rx:"3",ry:"3",width:"350",height:"6.4"}}),e("rect",{attrs:{x:"0",y:"100",rx:"3",ry:"3",width:"380",height:"6.4"}}),e("rect",{attrs:{x:"0",y:"120",rx:"3",ry:"3",width:"201",height:"6.4"}}),e("circle",{attrs:{cx:"30",cy:"30",r:"30"}})])}}}}]);
//# sourceMappingURL=categories.fe334568.js.map